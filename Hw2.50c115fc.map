{"version":3,"sources":["Hw2.js"],"names":["config","type","Phaser","width","height","physics","default","arcade","useTree","gravity","y","scene","preload","create","update","controls","player","group","spriteBounds","myX","myY","game","Game","load","image","release","i","pos","Geom","Rectangle","Random","block","x","setBounce","setCollideWorldBounds","setVelocity","Math","Between","setMaxVelocity","setBlendMode","graphics","add","fillStyle","fillRect","world","setBounds","Inflate","Clone","bounds","runChildUpdate","console","log","time","addEvent","delay","callback","callbackScope","repeat","cursors","input","keyboard","createCursorKeys","setScale","setImmovable","collider","left","isDown","setVelocityX","right","up","setVelocityY","down","window","onload","socket","io","connect","on","data","stuff","body","reset","text","document","getElementById","saveButton","loadButton","onclick","innerHTML","emit","studentname","statename"],"mappings":"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","file":"Hw2.50c115fc.map","sourceRoot":"..","sourcesContent":["ï»¿//Particle displacement using the phaser engine.  \n//modified from phaser example by Tien Ortman Tmo8@uw.edu\n\n\n\n\nvar config = {\n    type: Phaser,\n    width: 800,\n    height: 600,\n    physics: {\n        default: 'arcade',\n        arcade: {\n            useTree: false,\n            gravity: { y: 100 }\n        }\n    },\n    scene: {\n        preload: preload,\n        create: create,\n        update: update\n    }\n};\n\nvar controls;\nvar player;\nvar group;\nvar spriteBounds;\nvar myX;\nvar myY;\n\n\n\nvar game = new Phaser.Game(config);\n\n\n\nfunction preload ()\n{\n    this.load.image('chunk', 'particle.png');\n    this.load.image('crate', 'box.png');\n}\n\nfunction release ()\n{\n    for (var i = 0; i < 100; i++)\n    {\n        var pos = Phaser.Geom.Rectangle.Random(spriteBounds);\n\n        var block = group.create(pos.x, pos.y, 'chunk');\n\n        block.setBounce(1);\n        block.setCollideWorldBounds(true);\n        block.setVelocity(Phaser.Math.Between(-200, 200), Phaser.Math.Between(-100, -200));\n        block.setMaxVelocity(300);\n        block.setBlendMode(1);\n    }\n\n    \n}\n\nfunction create ()\n{\n    var graphics = this.add.graphics();\n    graphics.fillStyle(0x000044);\n    graphics.fillRect(0,0,800,200);\n\n    this.physics.world.setBounds(0, 0, 800, 600);\n\n    spriteBounds = Phaser.Geom.Rectangle.Inflate(Phaser.Geom.Rectangle.Clone(this.physics.world.bounds), -10, -200);\n    spriteBounds.y += 100;\n\n    group = this.physics.add.group();\n    group.runChildUpdate = false;\n    console.log(group);\n\n    \n    this.time.addEvent({ delay: 500, callback: release, callbackScope: this, repeat: (10000 / 100) - 1 });\n\n    cursors = this.input.keyboard.createCursorKeys();\n\n    player = this.physics.add.image(400, 100, 'crate').setScale(5);\n\n    player.setImmovable();\n    player.setCollideWorldBounds(true);\n\n    this.physics.add.collider(player, group);\n\n    \n}\n\nfunction update ()\n{\n    player.setVelocity(0);\n\n    if (cursors.left.isDown)\n    {\n        player.setVelocityX(-500);\n        \n        \n        \n    }\n    else if (cursors.right.isDown)\n    {\n        player.setVelocityX(500);\n    }\n\n    if (cursors.up.isDown)\n    {\n        player.setVelocityY(-500);\n    }\n    else if (cursors.down.isDown)\n    {\n        player.setVelocityY(500);\n    }\n\n    \n}\n\n\nwindow.onload = function () {\n    var socket = io.connect(\"http://24.16.255.56:8888\");\n  \n    socket.on(\"load\", function (data) {\n        \n        console.log(data);\n        console.log(stuff[0]);\n        console.log(stuff[1]);\n        player.body.reset(stuff[0]+80, stuff[1]+82);\n\n\n        \n    });\n  \n    var text = document.getElementById(\"text\");\n    var saveButton = document.getElementById(\"save\");\n    var loadButton = document.getElementById(\"load\");\n  \n    saveButton.onclick = function () {\n       // var myPoint = new Phaser.Geom.Point(player.body.x, player.body.y);\n\n      console.log(\"save\");\n      text.innerHTML = \"Saved.\"\n      stuff = [];\n      stuff[0] = player.body.x;\n      stuff[1] = player.body.y;\n      console.log(stuff[0]);\n      console.log(stuff[1]);\n\n      socket.emit(\"save\", { studentname: \"Tien Ortman\", statename: \"box position2\", data:  stuff});\n    };\n  \n    loadButton.onclick = function () {\n      console.log(\"load\");\n      text.innerHTML = \"Loaded.\"\n      socket.emit(\"load\", { studentname: \"Tien Ortman\", statename: \"box position2\"});\n      \n    };\n  \n  };\n"]}